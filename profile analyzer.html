<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Jobs Application AI Assistant</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons for UI elements -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9FAFB; /* neutral.gray50 */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #F3F4F6; /* neutral.gray100 */
        }
        ::-webkit-scrollbar-thumb {
            background: #D1D5DB; /* neutral.gray300 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF; /* neutral.gray400 */
        }
        /* Hide the initial output content until generation */
        #output-content {
            display: none;
        }
        /* Style for the file drop zone when dragging a file over it */
        .drag-over {
            border-color: #4f46e5; /* indigo-600 */
            background-color: #eef2ff; /* indigo-50 */
        }
        /* Styles for the gauge */
        #gauge-needle {
            transition: transform 0.5s ease-in-out;
            transform-origin: bottom center;
        }
    </style>
</head>
<body class="antialiased text-gray-800">

    <div class="min-h-screen p-4 sm:p-6 lg:p-8">
        <div class="max-w-7xl mx-auto">
            <!-- Header Section -->
            <header class="mb-8 text-center">
                <h1 class="text-3xl sm:text-4xl font-bold tracking-tight text-gray-900">Online Jobs Application AI Assistant</h1>
                <p class="mt-2 text-base sm:text-lg text-gray-600">Generate professional application assets from a job description in seconds.</p>
            </header>

            <!-- Main Content: Two-column layout -->
            <main class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                
                <!-- Left Column: Input Panel -->
                <div class="bg-white p-6 rounded-xl shadow border border-gray-200 flex flex-col">
                    <!-- Input Tab Navigation -->
                    <div class="bg-gray-100 p-1 rounded-xl flex items-center space-x-1 mb-4">
                        <button class="input-tab-btn flex-1 py-2 px-1 text-sm font-medium rounded-lg" data-tab="job-input">Job Description</button>
                        <button class="input-tab-btn flex-1 py-2 px-1 text-sm font-medium rounded-lg" data-tab="info-input">My Info</button>
                    </div>

                    <!-- Input Tab Content -->
                    <div class="flex-1 flex flex-col min-h-0 h-[27rem]">
                        <!-- Job Description Tab -->
                        <div id="job-input" class="input-tab-content h-full flex flex-col">
                             <h2 class="text-xl font-semibold mb-4 text-gray-800">Online Job Description</h2>
                             <textarea id="job-description" class="w-full flex-grow p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150" placeholder="Paste the full online job description here..."></textarea>
                        </div>
                        <!-- My Info Tab -->
                        <div id="info-input" class="input-tab-content h-full hidden flex-col">
                            <h2 class="text-xl font-semibold mb-4 text-gray-800">Your Information</h2>
                            <textarea id="my-info" class="w-full flex-grow p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150" placeholder="Paste text about you, your skills, and experience..."></textarea>
                            <div id="drop-zone" class="mt-4 flex flex-col items-center justify-center w-full p-6 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6 text-center">
                                    <i class="ph ph-file-pdf text-4xl text-gray-400 mb-3"></i>
                                    <p class="mb-2 text-sm text-gray-500"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                                    <p class="text-xs text-gray-500">PDF format only</p>
                                    <p id="file-name-display" class="mt-2 text-sm font-medium text-indigo-600"></p>
                                </div>
                                <input id="file-upload" type="file" class="hidden" accept=".pdf" />
                            </div>
                        </div>
                    </div>

                    <button id="generate-btn" class="mt-4 w-full bg-indigo-500 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 flex items-center justify-center gap-2">
                        <i class="ph ph-magic-wand text-xl"></i>
                        <span>Generate Application Assets</span>
                    </button>
                </div>

                <!-- Right Column: Output Panel -->
                <div class="bg-white p-6 rounded-xl shadow border border-gray-200 flex flex-col overflow-hidden h-[32rem]">
                    <!-- Placeholder shown before generation -->
                    <div id="output-placeholder" class="flex-1 flex items-center justify-center flex-col text-center text-gray-500">
                         <i class="ph ph-files text-6xl text-gray-400 mb-4"></i>
                         <h3 class="text-lg font-semibold text-gray-700">Your generated assets will appear here.</h3>
                         <p class="text-sm">Paste a job description and click generate.</p>
                    </div>

                    <!-- Content shown after generation -->
                    <div id="output-content" class="flex-1 flex flex-col min-h-0">
                        <!-- Tab Navigation -->
                        <div class="bg-gray-100 p-1 rounded-xl flex items-center space-x-1 mb-4">
                            <button class="output-tab-btn flex-1 py-2 px-1 text-sm font-medium rounded-lg" data-tab="application-copy">Application Copy</button>
                            <button class="output-tab-btn flex-1 py-2 px-1 text-sm font-medium rounded-lg" data-tab="proposal-doc">Proposal Doc</button>
                            <button class="output-tab-btn flex-1 py-2 px-1 text-sm font-medium rounded-lg" data-tab="profile-analysis">Profile Analysis</button>
                        </div>

                        <!-- Tab Content Area -->
                        <div class="flex-1 overflow-hidden min-h-0">
                            <!-- Application Copy Tab -->
                            <div id="application-copy" class="output-tab-content h-full flex flex-col">
                                <div class="bg-gray-50 rounded-lg border border-gray-200 flex-1 grid grid-rows-[auto_1fr] overflow-hidden">
                                    <div class="p-3 border-b border-gray-200 flex justify-between items-center">
                                        <h4 class="font-semibold text-gray-700 text-sm">Generated Application Copy</h4>
                                        <button class="copy-btn bg-white text-gray-500 hover:bg-gray-100 hover:text-indigo-500 p-1.5 rounded-md transition border border-gray-200" data-copy-target="copy-text-content" title="Copy Text">
                                            <i class="ph ph-clipboard-text text-lg"></i>
                                        </button>
                                    </div>
                                    <div class="p-4 overflow-y-auto">
                                        <pre id="copy-text-content" class="text-sm whitespace-pre-wrap leading-relaxed text-gray-700"></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Proposal Doc Tab -->
                            <div id="proposal-doc" class="output-tab-content h-full hidden">
                                <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 text-center flex flex-col items-center justify-center h-full">
                                    <i class="ph ph-file-doc text-5xl text-indigo-500 mb-3"></i>
                                    <h3 id="proposal-title" class="text-lg font-semibold text-gray-800 mb-2"></h3>
                                    <p class="text-sm text-gray-500 mb-6 max-w-sm">A professional proposal document has been created and is ready to be shared.</p>
                                    <div class="flex flex-col sm:flex-row gap-3 w-full max-w-md">
                                        <a id="proposal-link" href="#" target="_blank" class="flex-1 text-center bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-600 transition flex items-center justify-center gap-2">
                                            <i class="ph ph-arrow-square-out"></i>
                                            <span>Open Google Doc</span>
                                        </a>
                                        <button class="copy-btn flex-1 sm:flex-initial bg-white border border-gray-300 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition flex items-center justify-center gap-2" data-copy-target="proposal-link-text" title="Copy Link">
                                            <i class="ph ph-link"></i>
                                            <span>Copy Link</span>
                                        </button>
                                        <span id="proposal-link-text" class="hidden"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Profile Analysis Tab -->
                            <div id="profile-analysis" class="output-tab-content h-full hidden flex-col">
                                 <div class="bg-gray-50 rounded-lg border border-gray-200 flex-1 grid grid-rows-[auto_1fr] overflow-hidden">
                                    <div class="p-3 border-b border-gray-200">
                                        <h4 class="font-semibold text-gray-700 text-sm">Compatibility Analysis</h4>
                                    </div>
                                    <div class="p-4 overflow-y-auto">
                                        <!-- Gauge -->
                                        <div class="flex justify-center items-center mb-4">
                                            <div class="relative w-48 h-24">
                                                <svg class="w-full h-full" viewBox="0 0 100 50">
                                                    <path d="M 10 50 A 40 40 0 0 1 90 50" fill="none" stroke="#e5e7eb" stroke-width="10" stroke-linecap="round"></path>
                                                    <path id="gauge-fill" d="M 10 50 A 40 40 0 0 1 90 50" fill="none" stroke="#4f46e5" stroke-width="10" stroke-linecap="round" style="stroke-dasharray: 125.6; stroke-dashoffset: 125.6; transition: stroke-dashoffset 0.5s ease-in-out;"></path>
                                                </svg>
                                                <div class="absolute bottom-0 w-full text-center">
                                                    <span id="gauge-score" class="text-3xl font-bold text-gray-800">0</span>
                                                    <span class="text-gray-500">%</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Analysis Text -->
                                        <div class="text-center mb-6">
                                            <p id="compatibility-text" class="text-lg font-medium text-gray-800"></p>
                                        </div>
                                        <!-- Reasons -->
                                        <div class="space-y-3">
                                            <h5 class="font-semibold text-gray-700">Key Strengths:</h5>
                                            <ul id="analysis-reasons" class="space-y-3">
                                                <!-- Reasons will be populated by JS -->
                                            </ul>
                                        </div>
                                    </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DOM Element References ---
            const generateBtn = document.getElementById('generate-btn');
            const jobDescriptionInput = document.getElementById('job-description');
            
            // Input panel elements
            const inputTabButtons = document.querySelectorAll('.input-tab-btn');
            const inputTabContents = document.querySelectorAll('.input-tab-content');
            const dropZone = document.getElementById('drop-zone');
            const fileUpload = document.getElementById('file-upload');
            const fileNameDisplay = document.getElementById('file-name-display');

            // Output panel elements
            const outputPlaceholder = document.getElementById('output-placeholder');
            const outputContent = document.getElementById('output-content');
            const outputTabButtons = document.querySelectorAll('.output-tab-btn');
            const outputTabContents = document.querySelectorAll('.output-tab-content');
            const copyButtons = document.querySelectorAll('.copy-btn');

            // --- Mock Data ---
            const mockData = {
                applicationCopy: `Hi, I'm an AI Automation Specialist and I see you're looking for an expert to streamline your receipt and invoice extraction process. This is exactly what I do all the time, and I'm confident I'm the right fit for this project.

In fact, I've already created a detailed proposal and a workflow diagram to show you how I'd build your system. You can view the full proposal here:
$$$

About Me:
I'm an AI automation freelancer that builds out robust systems (CRMs, project management, no-code integrations). Some notable projects include:
- Built an end-to-end project management system for a $1M/year creative agency.
- Developed an automated content generation system that grew an SEO agency from $10k to $92k MRR.
- Created a monday.com CRM for a recruiting company doing $1M/year.

Further Details on My Approach:
1.  **Discovery & Scoping:** We'll begin with a detailed session to map out every step of your current process. I want to understand the nuances, the edge cases, and the exact pain points you're experiencing. This ensures the automated solution is a perfect fit.
2.  **System Architecture:** Based on our discovery, I will design the full automation architecture. This includes choosing the right tools (like Make.com, Zapier, or custom scripts), setting up the necessary integrations (Gmail, Google Drive, your accounting software), and defining the data flow.
3.  **Development & Implementation:** I will build the automation, providing you with regular updates. This is an iterative process, and I welcome feedback at every stage to ensure the final product meets your expectations.
4.  **Testing & QA:** Before going live, the system will be rigorously tested with various invoice and receipt formats to ensure accuracy and reliability. We'll handle different file types, layouts, and potential OCR errors.
5.  **Deployment & Training:** Once approved, I will deploy the system into your live environment. I will also provide a walkthrough or a short video tutorial for you and your team on how it works and how to monitor it.
6.  **Ongoing Support:** I offer ongoing support retainers to ensure the system continues to run smoothly and can be adapted to any future changes in your business processes.

I'm happy to discuss this further. Just respond to this proposal, and we can connect.

Thank you!`,
                proposalTitle: "Gmail to Google Drive: Receipt & Invoice Automation",
                proposalLink: "https://docs.google.com/document/d/example12345/edit",
                analysis: {
                    score: 88,
                    level: 'EXCELLENT',
                    reasons: [
                        "Your extensive experience in AI automation aligns perfectly with the core requirements of the project.",
                        "The mention of building end-to-end project management systems is a strong indicator of your capability for this role.",
                        "Your background in CRM and no-code integrations is highly relevant to the described tasks.",
                        "The proposed workflow demonstrates a clear and effective understanding of the client's needs."
                    ]
                }
            };

            // --- Event Listeners ---

            generateBtn.addEventListener('click', () => {
                if (jobDescriptionInput.value.trim() === "") {
                    // Switch to the job description tab if it's empty
                    handleTabClick(inputTabButtons, inputTabContents, 'job-input');
                    jobDescriptionInput.focus();
                    jobDescriptionInput.classList.add('border-red-500', 'ring-red-500');
                    setTimeout(() => {
                        jobDescriptionInput.classList.remove('border-red-500', 'ring-red-500');
                    }, 2000);
                    return;
                }
                setLoadingState(true);
                setTimeout(() => {
                    populateOutput(mockData);
                    setLoadingState(false);
                }, 2500);
            });
            
            // Tab switching logic
            inputTabButtons.forEach(button => {
                button.addEventListener('click', () => handleTabClick(inputTabButtons, inputTabContents, button.dataset.tab));
            });
            outputTabButtons.forEach(button => {
                button.addEventListener('click', () => handleTabClick(outputTabButtons, outputTabContents, button.dataset.tab));
            });
            
            // File Drop Zone Logic
            dropZone.addEventListener('click', () => fileUpload.click());
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('drag-over');
            });
            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('drag-over');
            });
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFile(files[0]);
                }
            });
            fileUpload.addEventListener('change', (e) => {
                 if (e.target.files.length > 0) {
                    handleFile(e.target.files[0]);
                }
            });

            // Copy button logic
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.copyTarget;
                    const contentElement = document.getElementById(targetId);
                    const textToCopy = contentElement.tagName === 'A' ? contentElement.href : contentElement.innerText;

                    const tempTextArea = document.createElement('textarea');
                    tempTextArea.value = textToCopy;
                    document.body.appendChild(tempTextArea);
                    tempTextArea.select();
                    try {
                        document.execCommand('copy');
                        const originalIcon = button.innerHTML;
                        button.innerHTML = `<i class="ph ph-check-circle text-lg text-green-500"></i>`;
                        setTimeout(() => { button.innerHTML = originalIcon; }, 2000);
                    } catch (err) {
                        console.error('Failed to copy: ', err);
                    }
                    document.body.removeChild(tempTextArea);
                });
            });

            // --- Helper Functions ---

            function handleTabClick(buttons, contents, targetTab) {
                 // Update button styles
                buttons.forEach(btn => {
                    const isTarget = btn.dataset.tab === targetTab;
                    btn.classList.toggle('bg-white', isTarget);
                    btn.classList.toggle('text-gray-900', isTarget);
                    btn.classList.toggle('shadow', isTarget);
                    btn.classList.toggle('text-gray-500', !isTarget);
                    btn.classList.toggle('hover:text-gray-700', !isTarget);
                });

                // Show/hide content
                contents.forEach(content => {
                    content.classList.toggle('hidden', content.id !== targetTab);
                });
            }

            function handleFile(file) {
                if (file && file.type === 'application/pdf') {
                    fileNameDisplay.textContent = `File selected: ${file.name}`;
                } else {
                    fileNameDisplay.textContent = 'Invalid file type. Please select a PDF.';
                }
            }

            function updateGauge(score) {
                const gaugeFill = document.getElementById('gauge-fill');
                const scoreText = document.getElementById('gauge-score');
                const totalLength = 125.6; // Circumference of the semi-circle
                const offset = totalLength - (score / 100) * totalLength;
                
                gaugeFill.style.strokeDashoffset = offset;
                scoreText.textContent = score;
            }

            function setLoadingState(isLoading) {
                if (isLoading) {
                    generateBtn.disabled = true;
                    generateBtn.innerHTML = `<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>Generating...</span>`;
                    outputPlaceholder.innerHTML = `<div class="flex flex-col items-center justify-center"><svg class="animate-spin h-10 w-10 text-indigo-500 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><h3 class="text-lg font-semibold text-gray-700">Generating Assets</h3><p class="text-sm text-gray-500">The AI is working its magic. This may take a moment.</p></div>`;
                    outputContent.style.display = 'none';
                    outputPlaceholder.style.display = 'flex';
                } else {
                    generateBtn.disabled = false;
                    generateBtn.innerHTML = `<i class="ph ph-magic-wand text-xl"></i><span>Generate Application Assets</span>`;
                }
            }

            function populateOutput(data) {
                outputPlaceholder.style.display = 'none';
                outputContent.style.display = 'flex';

                // Populate Application Copy
                const finalApplicationCopy = data.applicationCopy.replace('$$$', `<a href="${data.proposalLink}" target="_blank" class="text-indigo-500 font-semibold hover:underline">${data.proposalLink}</a>`);
                document.getElementById('copy-text-content').innerHTML = finalApplicationCopy;
                
                // Populate Proposal Doc
                document.getElementById('proposal-title').innerText = data.proposalTitle;
                document.getElementById('proposal-link').href = data.proposalLink;
                document.getElementById('proposal-link-text').innerText = data.proposalLink;

                // Populate Profile Analysis
                const analysis = data.analysis;
                updateGauge(analysis.score);
                const compatibilityText = document.getElementById('compatibility-text');
                let levelClass = 'text-green-600';
                if (analysis.level === 'MEDIUM') levelClass = 'text-yellow-600';
                if (analysis.level === 'LOW') levelClass = 'text-red-600';

                compatibilityText.innerHTML = `Overall Match: <span class="font-bold ${levelClass}">${analysis.level}</span>`;

                const reasonsList = document.getElementById('analysis-reasons');
                reasonsList.innerHTML = ''; // Clear previous reasons
                analysis.reasons.forEach(reason => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start gap-3 text-sm';
                    li.innerHTML = `<i class="ph ph-check-circle text-green-500 text-lg mt-0.5 shrink-0"></i><span class="text-gray-700">${reason}</span>`;
                    reasonsList.appendChild(li);
                });

                // Click the first output tab by default
                handleTabClick(outputTabButtons, outputTabContents, 'application-copy');
            }
            
            // --- Initial State Setup ---
            
            // Set default active tab for the input panel
            handleTabClick(inputTabButtons, inputTabContents, 'job-input');
        });
    </script>

</body>
</html>
